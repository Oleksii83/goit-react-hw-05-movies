(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[5],{53:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return b})),a.d(t,"c",(function(){return p}));var n=a(55),r=a.n(n),c=a(57),o="https://api.themoviedb.org/3/",u="aa3c597c43c8e27f94ec1708817abf2a";function i(){return s.apply(this,arguments)}function s(){return(s=Object(c.a)(r.a.mark((function e(){var t,a,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,fetch(t);case 3:if(!(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("`There are no such movies`"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return i("".concat(o,"/trending/movie/day?api_key=").concat(u,"&page=").concat(e))}function h(e){return i("".concat(o,"movie/").concat(e,"?api_key=").concat(u,"&language=en-US)"))}function b(e){return i("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US)"))}function p(e){return i("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US&page=1"))}},66:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__nCUIQ",SearchForm:"Searchbar_SearchForm__1CYvu",SearchFormButton:"Searchbar_SearchFormButton__3gVJD",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1dRmt",SearchFormInput:"Searchbar_SearchFormInput__l75-0"}},72:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(58),r=a(59),c=a(62),o=a(60),u=a(0),i=a(65),s=a(66),l=a.n(s),h=a(1),b=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={value:""},e.handleNameChange=function(t){e.setState({value:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.value.trim())return i.b.error("Enter query to search");e.props.onSubmit(e.state.value),e.setState({value:""})},e}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("form",{onSubmit:this.handleSubmit,className:l.a.form,children:[Object(h.jsx)("input",{className:l.a.input,type:"text",autoComplete:"off",autoFocus:!0,value:this.state.value,onChange:this.handleNameChange,placeholder:"Enter a movie name"}),Object(h.jsx)("button",{type:"submit",className:l.a.button,children:"Search"})]})}}]),a}(u.Component),p=(a(67),a(53),function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={value:null},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=e.value,r=this.props.value;n!==r&&(console.log("bvp \u0438\u043c\u044f"),fetch("https://api.themoviedb.org/3/search/movie?api_key=aa3c597c43c8e27f94ec1708817abf2a&language=en-US&page=1&include_adult=false)&query=".concat(r)).then((function(e){return e.json()})).then((function(e){return a.state({value:e})})))}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"MovieSearch"}),Object(h.jsx)("ul",{})]})}}]),a}(u.Component)),v=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={value:""},e.handleFormSubmit=function(t){e.setState({value:t})},e}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)(b,{onSubmit:this.handleFormSubmit}),Object(h.jsx)(p,{value:this.state.value}),Object(h.jsx)(i.a,{autoClose:3e3,position:"top-left"})]})}}]),a}(u.Component)}}]);
//# sourceMappingURL=movies.67c1c9fa.chunk.js.map