{"version":3,"sources":["services/Api.js","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/MovieSearch/MovieSearch.js","components/Movies/Movies.js"],"names":["BASE_URL","key","fetchMoviesApi","a","url","fetch","response","ok","json","Promise","reject","Error","fethTrendingMovies","page","fethDetailsMovies","moviesData","fethActorsMovies","moviesId","fethReviewsMovies","module","exports","Searchbar","state","value","handleNameChange","e","setState","currentTarget","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","this","className","s","form","input","type","autoComplete","autoFocus","onChange","placeholder","button","Component","MovieSearch","prevProps","prevState","prevName","nextName","console","log","then","res","Movies","handleFormSubmit","autoClose","position"],"mappings":"8SAAMA,EAAW,gCACXC,EAAM,mC,SAEGC,I,2EAAf,0CAAAC,EAAA,6DAA8BC,EAA9B,+BAAoC,GAApC,SACyBC,MAAMD,GAD/B,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,+BAJ/B,oF,sBAOO,SAASC,EAAmBC,GACjC,OAAOX,EAAe,GAAD,OAAIF,EAAJ,uCAA2CC,EAA3C,iBAAuDY,IASvE,SAASC,EAAkBC,GAChC,OAAOb,EAAe,GAAD,OAAIF,EAAJ,iBAAqBe,EAArB,oBAA2Cd,EAA3C,qBAIhB,SAASe,EAAiBC,GAC/B,OAAOf,EAAe,GAAD,OAAIF,EAAJ,iBAAqBiB,EAArB,4BAAiDhB,EAAjD,qBAIhB,SAASiB,EAAkBD,GAChC,OAAOf,EAAe,GAAD,OAChBF,EADgB,iBACCiB,EADD,4BAC6BhB,EAD7B,6B,mBC9BvBkB,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,0JCI3NC,E,4MACnBC,MAAQ,CAAEC,MAAO,I,EAEjBC,iBAAmB,SAAAC,GACjB,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcJ,MAAMK,iB,EAE/CC,aAAe,SAAAJ,GAEb,GADAA,EAAEK,iBAC8B,KAA5B,EAAKR,MAAMC,MAAMQ,OACnB,OAAOC,IAAMC,MAAM,yBAErB,EAAKC,MAAMC,SAAS,EAAKb,MAAMC,OAC/B,EAAKG,SAAS,CAAEH,MAAO,M,4CAGzB,WACE,OACE,uBAAMY,SAAUC,KAAKP,aAAcQ,UAAWC,IAAEC,KAAhD,UACE,uBACEF,UAAWC,IAAEE,MACbC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTpB,MAAOa,KAAKd,MAAMC,MAClBqB,SAAUR,KAAKZ,iBACfqB,YAAY,uBAEd,wBAAQJ,KAAK,SAASJ,UAAWC,IAAEQ,OAAnC,2B,GA3B+BC,aCFlBC,G,wNACnB1B,MAAQ,CACNC,MAAO,M,wDAET,SAAmB0B,EAAWC,GAAY,IAAD,OACjCC,EAAWF,EAAU1B,MACrB6B,EAAWhB,KAAKF,MAAMX,MACxB4B,IAAaC,IACfC,QAAQC,IAAI,0BACZjD,MAAM,uIAAD,OACoI+C,IAEtIG,MAAK,SAAAC,GAAG,OAAIA,EAAIhD,UAChB+C,MAAK,SAAAhC,GAAK,OAAI,EAAKD,MAAM,CAAEC,gB,oBAIlC,WACE,OACE,gCACE,6CACA,8B,GArBiCwB,cCKpBU,E,4MACnBnC,MAAQ,CACNC,MAAO,I,EAGTmC,iBAAmB,SAAAnC,GACjB,EAAKG,SAAS,CAAEH,W,4CAElB,WACE,OACE,sBAAKc,UAAU,GAAf,UACE,cAAC,EAAD,CAAWF,SAAUC,KAAKsB,mBAC1B,cAAC,EAAD,CAAanC,MAAOa,KAAKd,MAAMC,QAC/B,cAAC,IAAD,CAAgBoC,UAAW,IAAMC,SAAS,oB,GAbdb","file":"static/js/movies.67c1c9fa.chunk.js","sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\nconst key = 'aa3c597c43c8e27f94ec1708817abf2a';\n\nasync function fetchMoviesApi(url = '') {\n  const response = await fetch(url);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('`There are no such movies`'));\n}\n\nexport function fethTrendingMovies(page) {\n  return fetchMoviesApi(`${BASE_URL}/trending/movie/day?api_key=${key}&page=${page}`);\n}\n\nexport function fethSearchMovies(query) {\n  return fetchMoviesApi(\n    `${BASE_URL}search/movie?api_key=${key}&language=en-US&page=1&include_adult=false)&query=${query}`,\n  );\n}\n\nexport function fethDetailsMovies(moviesData) {\n  return fetchMoviesApi(`${BASE_URL}movie/${moviesData}?api_key=${key}&language=en-US)`);\n}\n\n// запрос информации о актёрском составе для страницы кинофильма.\nexport function fethActorsMovies(moviesId) {\n  return fetchMoviesApi(`${BASE_URL}movie/${moviesId}/credits?api_key=${key}&language=en-US)`);\n}\n\n// запрос обзоров для страницы кинофильма.\nexport function fethReviewsMovies(moviesId) {\n  return fetchMoviesApi(\n    `${BASE_URL}movie/${moviesId}/reviews?api_key=${key}&language=en-US&page=1`,\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__nCUIQ\",\"SearchForm\":\"Searchbar_SearchForm__1CYvu\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3gVJD\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1dRmt\",\"SearchFormInput\":\"Searchbar_SearchFormInput__l75-0\"};","// import { useState } from 'react';\nimport { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = { value: '' };\n\n  handleNameChange = e => {\n    this.setState({ value: e.currentTarget.value.toLowerCase() });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.value.trim() === '') {\n      return toast.error('Enter query to search');\n    }\n    this.props.onSubmit(this.state.value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className={s.form}>\n        <input\n          className={s.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          value={this.state.value}\n          onChange={this.handleNameChange}\n          placeholder=\"Enter a movie name\"\n        ></input>\n        <button type=\"submit\" className={s.button}>\n          Search\n        </button>\n      </form>\n    );\n  }\n}\n\n// const Searchbar = ({ onSubmit }) => {\n//   const [value, setValue] = useState('');\n\n//   // const reset = () => {\n//   //   setValue('');\n//   // };\n\n//   // const submitHandler = event => {\n//   //   event.preventDefault();\n//   //   if (value.trim() === '') {\n//   //     return toast.warning('Enter query to search');\n//   //   }\n//   //   onSubmit(value);\n//   //   reset();\n//   // };\n\n//   const handleInputChange = event => {\n//     setValue(event.target.value);\n//   };\n\n//   return (\n//     <form onSubmit={''} className={s.form}>\n//       <input\n//         className={s.input}\n//         type=\"text\"\n//         autoComplete=\"off\"\n//         autoFocus\n//         value={value}\n//         onChange={handleInputChange}\n//         placeholder=\"Enter a movie name\"\n//       ></input>\n//       <button type=\"submit\" className={s.button}>\n//         Search\n//       </button>\n//     </form>\n//   );\n// };\n\n// export default Searchbar;\n","import { Component } from 'react';\r\nimport * as Api from '../../services/Api';\r\n\r\nexport default class MovieSearch extends Component {\r\n  state = {\r\n    value: null,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevName = prevProps.value;\r\n    const nextName = this.props.value;\r\n    if (prevName !== nextName) {\r\n      console.log('bvp имя');\r\n      fetch(\r\n        `https://api.themoviedb.org/3/search/movie?api_key=aa3c597c43c8e27f94ec1708817abf2a&language=en-US&page=1&include_adult=false)&query=${nextName}`,\r\n      )\r\n        .then(res => res.json())\r\n        .then(value => this.state({ value }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>MovieSearch</h2>\r\n        <ul>{/* {this.state.value && } */}</ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// import { useState } from 'react';\nimport { Component } from 'react';\nimport Searchbar from '../Searchbar/Searchbar';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport * as Api from '../../services/Api';\nimport MovieSearch from '../MovieSearch/MovieSearch';\n\nexport default class Movies extends Component {\n  state = {\n    value: '',\n  };\n\n  handleFormSubmit = value => {\n    this.setState({ value });\n  };\n  render() {\n    return (\n      <div className=\"\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <MovieSearch value={this.state.value} />\n        <ToastContainer autoClose={3000} position=\"top-left\" />\n      </div>\n    );\n  }\n}\n//   const [movies, setMovies] = useState('null');\n\n//   // useEffect(() => {\n//   //   Api.fethSearchMovies(query)\n//   //     .then(moviesData => {\n//   //       setMovies(movies => [...movies, ...moviesData.results]);\n//   //     })\n//   //     .catch(error => error.massage);\n//   // }, [page]);\n\n//   return <Searchbar />;\n//   <></>;\n// }\n"],"sourceRoot":""}